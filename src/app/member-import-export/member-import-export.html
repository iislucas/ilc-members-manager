<h2>Import Members</h2>
<input type="file" (change)="onFileChange($event)" accept=".csv,.jsonl" />

<h2>Export Members</h2>
<div class="export-buttons">
  <button (click)="membersService.downloadCsv()">Download CSV</button>
  <button (click)="membersService.downloadJsonL()">Download JSONL</button>
</div>

@if (parsedData().length > 0) {
<div class="mapping-table">
  <h3>Map Fields</h3>
  <table>
    <thead>
      <tr>
        <th>Member Field</th>
        <th>CSV/JSONL Header</th>
      </tr>
    </thead>
    <tbody>
      @for (field of memberFields; track field) {
      <tr>
        <td>{{ field }}</td>
        <td>
          <select (change)="setMapping(field, $event)">
            <option value="">--Select Header--</option>
            @for (header of headers(); track header) {
            <option [value]="header">{{ header }}</option>
            }
          </select>
        </td>
      </tr>
      }
    </tbody>
  </table>
  <button (click)="importData()">Import Data</button>
</div>
}
